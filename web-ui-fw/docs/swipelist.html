<!DOCTYPE html>  <html> <head>   <title>swipelist.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               swipelist.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * jQuery Mobile Widget @VERSION</span>
<span class="cm"> *</span>
<span class="cm"> * This software is licensed under the MIT licence (as defined by the OSI at</span>
<span class="cm"> * http://www.opensource.org/licenses/mit-license.php)</span>
<span class="cm"> * </span>
<span class="cm"> * ***************************************************************************</span>
<span class="cm"> * Copyright (C) 2011 by Intel Corporation Ltd.</span>
<span class="cm"> * </span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span>
<span class="cm"> * to deal in the Software without restriction, including without limitation</span>
<span class="cm"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span>
<span class="cm"> * and/or sell copies of the Software, and to permit persons to whom the</span>
<span class="cm"> * Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> * </span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in</span>
<span class="cm"> * all copies or substantial portions of the Software.</span>
<span class="cm"> * </span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="cm"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="cm"> * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="cm"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</span>
<span class="cm"> * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span>
<span class="cm"> * DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> * ***************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Authors: Kalyan Kondapally &lt;kalyan.kondapally@intel.com&gt;,</span>
<span class="cm"> *          Elliot Smith &lt;elliot.smith@intel.com&gt;</span>
<span class="cm"> */</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Widget which turns a list into a "swipe list":
i.e. each list item has a sliding "cover" which can be swiped
to the right (to reveal buttons underneath) or left (to
cover the buttons again). Clicking on a button under a swipelist
also moves the cover back to the left.</p>

<p>To create a swipelist, you need markup like this:</p>

<pre>
&lt;ul data-role="swipelist"&gt;<br/>
    &lt;li&gt;<br/>
        &lt;div class="ui-grid-b"&gt;<br/>
            &lt;div class="ui-block-a"&gt;<br/>
                &lt;a href="#" data-role="button" data-theme="a"&gt;Twitter&lt;/a&gt;<br/>
            &lt;/div&gt;<br/>
            &lt;div class="ui-block-b"&gt;<br/>
                &lt;a href="#" data-role="button" data-theme="b"&gt;FaceBook&lt;/a&gt;<br/>
            &lt;/div&gt;<br/>
            &lt;div class="ui-block-c"&gt;<br/>
                &lt;a href="#" data-role="button" data-theme="c"&gt;Google+&lt;/a&gt;<br/>
            &lt;/div&gt;<br/>
        &lt;/div&gt;<br/>
        &lt;div data-role="swipelist-item-cover"&gt;Nigel&lt;/div&gt;<br/>
    &lt;/li&gt;<br/>
    ...<br/>
&lt;/ul&gt;
</pre>

<p>In this case, the cover is over a grid of buttons;
but it is should also be possible to use other types of markup under the
list items.</p>

<p>Note the use of a separate div, parented by the li element, marked
up with data-role="swipelist-item-cover". This div will usually
contain text. If you want other elements in your swipelist covers,
you may need to style them yourself. Because the covers aren't
technically list items, you may need to do some work to make them
look right.</p>

<p>WARNING: This doesn't work well inside a scrollview widget, as
the touch events currently interfere with each other badly (e.g.
a swipe will work but cause a scroll as well).</p>

<p>Theme: default is to use the parent theme (if set), or 'c' if not;
can be set explicitly with data-theme="X" or via
swipelist('option', 'theme', 'X') (though only at create time).
If list items are themed individually, the cover will pick up the
theme of the list item which is its parent.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">widget</span><span class="p">(</span><span class="s2">&quot;todons.swipelist&quot;</span><span class="p">,</span> <span class="nx">$</span><span class="p">.</span><span class="nx">mobile</span><span class="p">.</span><span class="nx">widget</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">theme</span><span class="o">:</span> <span class="kc">null</span>
    <span class="p">},</span>

    <span class="nx">_create</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>use the theme set on the element, set in options,
the parent theme, or 'c' (in that order of preference)</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="kd">var</span> <span class="nx">theme</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">jqmData</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">)</span> <span class="o">||</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">theme</span> <span class="o">||</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">jqmData</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">)</span> <span class="o">||</span>
                    <span class="s1">&#39;c&#39;</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">theme</span> <span class="o">=</span> <span class="nx">theme</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="nx">refresh</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_cleanupDom</span><span class="p">();</span>

        <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
            <span class="nx">defaultCoverTheme</span><span class="p">,</span>
            <span class="nx">covers</span><span class="p">;</span>

        <span class="nx">defaultCoverTheme</span> <span class="o">=</span> <span class="s1">&#39;ui-body-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">theme</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>swipelist is a listview</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;ui-listview&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">listview</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>get the list item covers</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">covers</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;:jqmData(role=&quot;swipelist-item-cover&quot;)&#39;</span><span class="p">);</span>

        <span class="nx">covers</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">cover</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">coverTheme</span> <span class="o">=</span> <span class="nx">defaultCoverTheme</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>get the parent li element and add classes</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>add swipelist CSS classes</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">item</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist-item&#39;</span><span class="p">);</span>

            <span class="nx">cover</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist-item-cover&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>set swatch on cover: if the nearest list item has
a swatch set on it, that will be used; otherwise, use
the swatch set for the swipelist</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">itemHasThemeClass</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>
                                        <span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/ui\-body\-[a-z]|ui\-bar\-[a-z]/</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">itemHasThemeClass</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">coverTheme</span> <span class="o">=</span> <span class="nx">itemHasThemeClass</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
            <span class="p">}</span>

            <span class="nx">cover</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">coverTheme</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>wrap inner HTML (so it can potentially be styled)</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">cover</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;.ui-swipelist-item-cover-inner&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">cover</span><span class="p">.</span><span class="nx">wrapInner</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;span/&gt;&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist-item-cover-inner&#39;</span><span class="p">));</span>
            <span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>bind to swipe events on the cover and the item</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateRight&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateRight&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">self</span><span class="p">.</span><span class="nx">_animateCover</span><span class="p">(</span><span class="nx">cover</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
                <span class="p">});</span>

                <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                    <span class="nx">self</span><span class="p">.</span><span class="nx">_animateCover</span><span class="p">(</span><span class="nx">cover</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
                <span class="p">});</span>
            <span class="p">}</span>

            <span class="nx">cover</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;swiperight&#39;</span><span class="p">,</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateRight&#39;</span><span class="p">));</span>

            <span class="nx">item</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;swipeleft&#39;</span><span class="p">,</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">));</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>any clicks on buttons inside the item also trigger
the cover to slide back to the left</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">item</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.ui-btn&#39;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">},</span>

    <span class="nx">_cleanupDom</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
            <span class="nx">defaultCoverTheme</span><span class="p">,</span>
            <span class="nx">covers</span><span class="p">;</span>

        <span class="nx">defaultCoverTheme</span> <span class="o">=</span> <span class="s1">&#39;ui-body-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">theme</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>get the list item covers</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">covers</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;:jqmData(role=&quot;swipelist-item-cover&quot;)&#39;</span><span class="p">);</span>

        <span class="nx">covers</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">cover</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">coverTheme</span> <span class="o">=</span> <span class="nx">defaultCoverTheme</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>get the parent li element and add classes</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>remove swipelist CSS classes</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">item</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist-item&#39;</span><span class="p">);</span>
            <span class="nx">cover</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;ui-swipelist-item-cover&#39;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>remove swatch from cover: if the nearest list item has
a swatch set on it, that will be used; otherwise, use
the swatch set for the swipelist</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="kd">var</span> <span class="nx">itemClass</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">itemHasThemeClass</span> <span class="o">=</span> <span class="nx">itemClass</span> <span class="o">&amp;&amp;</span>
                                    <span class="nx">itemClass</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/ui\-body\-[a-z]|ui\-bar\-[a-z]/</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">itemHasThemeClass</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">coverTheme</span> <span class="o">=</span> <span class="nx">itemHasThemeClass</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
            <span class="p">}</span>

            <span class="nx">cover</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">coverTheme</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>remove wrapper HTML</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="nx">cover</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.ui-swipelist-item-cover-inner&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">().</span><span class="nx">unwrap</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>unbind swipe events</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateRight&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">cover</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;swiperight&#39;</span><span class="p">,</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateRight&#39;</span><span class="p">));</span>
                <span class="nx">item</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;swipeleft&#39;</span><span class="p">,</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">));</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>unbind clicks on buttons inside the item</p>             </td>             <td class="code">               <div class="highlight"><pre>                <span class="nx">item</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.ui-btn&#39;</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">));</span>

                <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateRight&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
                <span class="nx">cover</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;animateLeft&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">},</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>NB I tried to use CSS animations for this, but the performance
and appearance was terrible on Android 2.2 browser;
so I reverted to jQuery animations</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">_animateCover</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">cover</span><span class="p">,</span> <span class="nx">leftPercentage</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">cover</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
        <span class="nx">cover</span><span class="p">.</span><span class="nx">clearQueue</span><span class="p">();</span>
        <span class="nx">cover</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="nx">leftPercentage</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span><span class="p">},</span> <span class="s1">&#39;fast&#39;</span><span class="p">,</span> <span class="s1">&#39;linear&#39;</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;pagecreate&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;:jqmData(role=&#39;swipelist&#39;)&quot;</span><span class="p">).</span><span class="nx">swipelist</span><span class="p">();</span>
<span class="p">});</span>

<span class="p">})(</span><span class="nx">jQuery</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 