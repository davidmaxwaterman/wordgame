<!DOCTYPE html>  <html> <head>   <title>autodividers.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               autodividers.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * jQuery Mobile Widget @VERSION - listview autodividers</span>
<span class="cm"> *</span>
<span class="cm"> * This software is licensed under the MIT licence (as defined by the OSI at</span>
<span class="cm"> * http://www.opensource.org/licenses/mit-license.php)</span>
<span class="cm"> * </span>
<span class="cm"> * ***************************************************************************</span>
<span class="cm"> * Copyright (C) 2011 by Intel Corporation Ltd.</span>
<span class="cm"> * </span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span>
<span class="cm"> * to deal in the Software without restriction, including without limitation</span>
<span class="cm"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span>
<span class="cm"> * and/or sell copies of the Software, and to permit persons to whom the</span>
<span class="cm"> * Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> * </span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in</span>
<span class="cm"> * all copies or substantial portions of the Software.</span>
<span class="cm"> * </span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="cm"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="cm"> * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="cm"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</span>
<span class="cm"> * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER</span>
<span class="cm"> * DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> * ***************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Authors: Elliot Smith &lt;elliot.smith@intel.com&gt;</span>
<span class="cm"> */</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Applies dividers automatically to a listview, using link text
(for link lists) or text (for readonly lists) as the basis for the
divider text.</p>

<p>Apply using autodividers({type: 'X'}) on a <ul> with
data-role="listview", or with data-autodividers="true", where X
is the type of divider to create. The default divider type is 'alpha',
meaning first characters of list item text, upper-cased.</p>

<p>The element used to derive the text for the auto dividers defaults
to the first link inside the li; failing that, the text directly inside
the li element is used. This can be overridden with the
data-autodividers-selector attribute or via options; the selector
will use each li element as its context.</p>

<p>Any time a new li element is added to the list, or an li element is
removed, this extension will update the dividers in the listview
accordingly.</p>

<p>Note that if a listview already has dividers, applying this
extension will remove all the existing dividers and replace them
with new, generated ones.</p>

<p>Also note that this extension doesn't sort the list: it only creates
dividers based on text inside list items. So if your list isn't
alphabetically-sorted, you may get duplicate dividers.</p>

<p>So, for example, this markup:</p>

<ul id="has-no-dividers" data-role="listview" data-autodividers="alpha">
    <li>Barry</li>
    <li>Carrie</li>
    <li>Betty</li>
    <li>Harry</li>
    <li>Carly</li>
    <li>Hetty</li>
</ul>

<p>will produce dividers like this:</p>

<ul data-role="listview" data-autodividers="alpha">
<li data-role="list-divider">B</li>
<li>Barry</li>
<li data-role="list-divider">C</li>
<li>Carrie</li>
<li data-role="list-divider">B</li>
<li>Betty</li>
<li data-role="list-divider">H</li>
<li>Harry</li>
<li data-role="list-divider">C</li>
<li>Carly</li>
<li data-role="list-divider">H</li>
<li>Hetty</li>
</ul>

<p>with each divider occuring twice.</p>

<p>Options:</p>

<p>selector: The jQuery selector to use to find text for the
        generated dividers. Default is to use the first 'a'
        (link) element. If this selector doesn't find any
        text, the widget automatically falls back to the text
        inside the li (for read-only lists). Can be set to a custom
        selector via data-autodividers-selector="..." or the 'selector'
        option.</p>

<p>type: 'alpha' (default) sets the auto divider type to "uppercased
     first character of text selected from each item"; "full" sets
     it to the unmodified text selected from each item. Set via
     the data-autodividers="<type>" attribute on the listview or
     the 'type' option.</p>

<p>Events:</p>

<p>updatelayout: Triggered if the dividers in the list change;
    this happens if list items are added to the listview,
    which causes the autodividers to be regenerated.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">$</span><span class="p">,</span> <span class="kc">undefined</span> <span class="p">)</span> <span class="p">{</span>

<span class="kd">var</span> <span class="nx">autodividers</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
	<span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span> <span class="o">||</span> <span class="p">{};</span>

	<span class="kd">var</span> <span class="nx">listview</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="s1">&#39;listview&#39;</span> <span class="p">);</span>

	<span class="kd">var</span> <span class="nx">dividerType</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="nx">list</span><span class="p">.</span><span class="nx">jqmData</span><span class="p">(</span> <span class="s1">&#39;autodividers&#39;</span> <span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;alpha&#39;</span><span class="p">;</span>

	<span class="kd">var</span> <span class="nx">textSelector</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">selector</span> <span class="o">||</span> <span class="nx">list</span><span class="p">.</span><span class="nx">jqmData</span><span class="p">(</span> <span class="s1">&#39;autodividers-selector&#39;</span> <span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;a&#39;</span><span class="p">;</span>

	<span class="kd">var</span> <span class="nx">getDividerText</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elt</span> <span class="p">)</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>look for some text in the item</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">elt</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="nx">textSelector</span> <span class="p">).</span><span class="nx">text</span><span class="p">()</span> <span class="o">||</span> <span class="nx">elt</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>create the text for the divider</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">dividerType</span> <span class="o">===</span> <span class="s1">&#39;alpha&#39;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">text</span> <span class="o">=</span> <span class="nx">text</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">text</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="kd">var</span> <span class="nx">mergeDividers</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">dividersChanged</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>any dividers which are following siblings of a divider, where
there are no dividers with different text inbetween, can be removed</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="nx">list</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="s1">&#39;li.ui-li-divider&#39;</span> <span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">divider</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
			<span class="kd">var</span> <span class="nx">dividerText</span> <span class="o">=</span> <span class="nx">divider</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
			<span class="kd">var</span> <span class="nx">selector</span> <span class="o">=</span> <span class="s1">&#39;.ui-li-divider:not(:contains(&#39;</span> <span class="o">+</span> <span class="nx">dividerText</span> <span class="o">+</span> <span class="s1">&#39;))&#39;</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">nextDividers</span> <span class="o">=</span> <span class="nx">divider</span><span class="p">.</span><span class="nx">nextUntil</span><span class="p">(</span> <span class="nx">selector</span> <span class="p">);</span>
			<span class="nx">nextDividers</span> <span class="o">=</span> <span class="nx">nextDividers</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="s1">&#39;.ui-li-divider:contains(&#39;</span> <span class="o">+</span> <span class="nx">dividerText</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span> <span class="p">);</span>

			<span class="k">if</span> <span class="p">(</span><span class="nx">nextDividers</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="nx">nextDividers</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
				<span class="nx">dividersChanged</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">});</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">dividersChanged</span><span class="p">)</span> <span class="p">{</span>
			<span class="nx">list</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s1">&#39;updatelayout&#39;</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>check that elt is a non-divider li element</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">var</span> <span class="nx">isNonDividerLi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">elt</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">elt</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
		       <span class="nx">elt</span><span class="p">.</span><span class="nx">jqmData</span><span class="p">(</span> <span class="s1">&#39;role&#39;</span> <span class="p">)</span> <span class="o">!==</span> <span class="s1">&#39;list-divider&#39;</span><span class="p">;</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>li element inserted, so check whether it needs a divider</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">var</span> <span class="nx">liAdded</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">li</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">dividerText</span> <span class="o">=</span> <span class="nx">getDividerText</span><span class="p">(</span> <span class="nx">li</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">dividerText</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">listview</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>add expected divider for this li if it doesn't exist</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">existingDividers</span> <span class="o">=</span> <span class="nx">li</span><span class="p">.</span><span class="nx">prevAll</span><span class="p">(</span> <span class="s1">&#39;.ui-li-divider:first:contains(&#39;</span> <span class="o">+</span> <span class="nx">dividerText</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">existingDividers</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">divider</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;&lt;li&gt;&#39;</span> <span class="o">+</span> <span class="nx">dividerText</span> <span class="o">+</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span> <span class="p">);</span>
			<span class="nx">divider</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span> <span class="s1">&#39;data-&#39;</span> <span class="o">+</span> <span class="nx">$</span><span class="p">.</span><span class="nx">mobile</span><span class="p">.</span><span class="nx">ns</span> <span class="o">+</span> <span class="s1">&#39;role&#39;</span><span class="p">,</span> <span class="s1">&#39;list-divider&#39;</span> <span class="p">);</span>
			<span class="nx">li</span><span class="p">.</span><span class="nx">before</span><span class="p">(</span> <span class="nx">divider</span> <span class="p">);</span>

			<span class="nx">listview</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>

			<span class="nx">mergeDividers</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">listview</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>li element removed, so check whether its divider should go</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="kd">var</span> <span class="nx">liRemoved</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">li</span> <span class="p">)</span> <span class="p">{</span>

		<span class="kd">var</span> <span class="nx">dividerText</span> <span class="o">=</span> <span class="nx">getDividerText</span><span class="p">(</span> <span class="nx">li</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">dividerText</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">listview</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>remove divider for this li if there are no other
li items for the divider before or after this li item</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="kd">var</span> <span class="nx">precedingItems</span> <span class="o">=</span> <span class="nx">li</span><span class="p">.</span><span class="nx">prevUntil</span><span class="p">(</span> <span class="s1">&#39;.ui-li-divider:contains(&#39;</span> <span class="o">+</span> <span class="nx">dividerText</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span> <span class="p">);</span>
		<span class="kd">var</span> <span class="nx">nextItems</span> <span class="o">=</span> <span class="nx">li</span><span class="p">.</span><span class="nx">nextUntil</span><span class="p">(</span> <span class="s1">&#39;.ui-li-divider&#39;</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="nx">precedingItems</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">nextItems</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">li</span><span class="p">.</span><span class="nx">prevAll</span><span class="p">(</span> <span class="s1">&#39;.ui-li-divider:contains(&#39;</span> <span class="o">+</span> <span class="nx">dividerText</span> <span class="o">+</span> <span class="s1">&#39;):first&#39;</span> <span class="p">).</span><span class="nx">remove</span><span class="p">();</span>

			<span class="nx">listview</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>

			<span class="nx">mergeDividers</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">listview</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="p">};</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>set up the dividers on first create</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">list</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span> <span class="s1">&#39;li&#39;</span> <span class="p">).</span><span class="nx">each</span><span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">li</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>remove existing dividers</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">if</span> <span class="p">(</span> <span class="nx">li</span><span class="p">.</span><span class="nx">jqmData</span><span class="p">(</span> <span class="s1">&#39;role&#39;</span> <span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;list-divider&#39;</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">li</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
		<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>make new dividers for list items</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">else</span> <span class="p">{</span>
			<span class="nx">liAdded</span><span class="p">(</span> <span class="nx">li</span> <span class="p">);</span>
		<span class="p">}</span>
	<span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>bind to DOM events to keep list up to date</p>             </td>             <td class="code">               <div class="highlight"><pre>	<span class="nx">list</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span> <span class="s1">&#39;DOMNodeInserted&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">elt</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isNonDividerLi</span><span class="p">(</span> <span class="nx">elt</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">liAdded</span><span class="p">(</span> <span class="nx">elt</span> <span class="p">);</span>
	<span class="p">});</span>

	<span class="nx">list</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span> <span class="s1">&#39;DOMNodeRemoved&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">elt</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span> <span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">isNonDividerLi</span><span class="p">(</span> <span class="nx">elt</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">liRemoved</span><span class="p">(</span> <span class="nx">elt</span> <span class="p">);</span>
	<span class="p">});</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">autodividers</span> <span class="o">=</span> <span class="nx">autodividers</span><span class="p">;</span>

<span class="nx">$</span><span class="p">(</span> <span class="s2">&quot;:jqmData(role=listview)&quot;</span> <span class="p">).</span><span class="nx">live</span><span class="p">(</span> <span class="s2">&quot;listviewcreate&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span> <span class="nx">list</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span> <span class="s1">&#39;:jqmData(autodividers)&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">list</span><span class="p">.</span><span class="nx">autodividers</span><span class="p">();</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="p">})(</span> <span class="nx">jQuery</span> <span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 